---
import {
  HEADER_NAVIGATION_ITEMS,
  HEADER_CTA_BUTTON,
  HEADER_STYLES,
  HEADER_ANIMATIONS,
} from '../../constants/headerConstants';
---

<!-- Mobile Menu -->
<div class="lg:hidden" id="mobile-menu" style="display: none;">
  <div class="mt-4 border-t border-gray-200 py-4">
    {
      HEADER_NAVIGATION_ITEMS.map(item =>
        item.items ? (
          <div class="mobile-dropdown">
            <button
              class:list={[`mobile-dropdown-button flex w-full items-center justify-between px-2 py-3 text-left`,`${HEADER_STYLES.NAV_LINK_COLORS}`,`focus:outline-none`]}
            >
              {item.label}
              <svg
                class:list={[`dropdown-chevron h-4 w-4`,`${HEADER_ANIMATIONS.MOBILE_DROPDOWN_TRANSITION}`]}
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  d="M19 9l-7 7-7-7"                   stroke-linecap="round"                   stroke-linejoin="round"                   stroke-width="2"
                />
              </svg>
            </button>
            <div class="mobile-dropdown-content hidden pl-4">
              {item.items.map(subItem => (
                <a
                  class:list={[`block py-2 text-gray-600`,`${HEADER_STYLES.NAV_LINK_COLORS}`]}                   href={subItem.href}
                >
                  {subItem.label}
                </a>
              ))}
            </div>
          </div>
        ) : (
          <a class:list={[`block px-2 py-3`,`${HEADER_STYLES.NAV_LINK_COLORS}`]} href={item.href}>
            {item.label}
          </a>
        )
      )
    }
    <div class="mt-4 border-t border-gray-200 pt-4">
      <a
        class:list={[`block w-full text-center`,`${HEADER_CTA_BUTTON.MOBILE_CLASSES}`]}         href={HEADER_CTA_BUTTON.URL}
      >
        {HEADER_CTA_BUTTON.TEXT}
      </a>
    </div>
  </div>
</div>

<style>
  .dropdown-chevron {
    transition: transform 0.2s ease;
  }

  .rotate-180 {
    transform: rotate(180deg);
  }
</style>
