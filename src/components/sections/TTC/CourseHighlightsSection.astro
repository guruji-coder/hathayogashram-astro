---
import Button from '../../ui/Button.astro';
import { ROUTE_CONTACT } from '../../../constants/routesConstants';
import DecorativeUnderline from '../../ui/DecorativeUnderline.astro';

interface Props {
  sectionData: {
    title: string;
    subtitle: string;
    benefits: Array<{
      category: string;
      items: Array<string | { subItems: Array<{ label: string; description: string }> }>;
    }>;
    courseHighlight: {
      title: string;
      pricing: {
        twinShared: { label: string; price: string; originalPrice: string };
        private: { label: string; price: string; originalPrice: string };
      };
      details: Array<{ label: string; value: string; icon: string }>;
      bookingButton: { text: string; class: string };
    };
  };
}

const { sectionData } = Astro.props;
---

<section id="CourseHighlights" class="py-12 sm:py-16 lg:py-20 bg-gradient-to-br from-orange-50 via-white to-orange-50/30 overflow-hidden">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="text-center mb-12 sm:mb-16">
      <p class="text-orange-600 font-bold text-sm uppercase tracking-wider mb-3">{sectionData.title}</p>
      <h2 class="text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-primary mb-6 leading-tight px-4">{sectionData.subtitle}</h2>
      <DecorativeUnderline />
    </div>

    <!-- Mobile-first responsive layout -->
    <div class="flex flex-col lg:flex-row gap-6 sm:gap-8 lg:gap-12">
      
      <!-- Benefits Content - Stack on mobile, 2/3 on desktop -->
      <div class="w-full lg:w-2/3 space-y-4 sm:space-y-6">
        {sectionData.benefits.map((benefit) => (
          <div class="group bg-white/95 backdrop-blur-sm rounded-3xl p-6 sm:p-8 lg:p-10 shadow-xl hover:shadow-2xl transition-all duration-500 border border-orange-100 hover:border-orange-300">
            
            <!-- Category header -->
            <div class="flex items-center mb-6 sm:mb-8">
              <div class="w-4 h-4 sm:w-5 sm:h-5 rounded-full bg-gradient-to-r from-primary to-orange-500 mr-4 group-hover:scale-125 group-hover:rotate-12 transition-all duration-300"></div>
              <h3 class="text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-primary to-orange-600 bg-clip-text text-transparent">
                {benefit.category}
              </h3>
            </div>
            
            <!-- Benefit items -->
            <div class="space-y-4 sm:space-y-5">
              {benefit.items.map((item) => (
                <div class="group/item">
                  {typeof item === 'string' ? (
                    <div class="flex items-start space-x-4 p-4 sm:p-5 rounded-2xl hover:bg-orange-50/80 transition-all duration-300 cursor-pointer">
                      <div class="w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full mt-2 flex-shrink-0 group-hover/item:scale-150 group-hover/item:bg-gradient-to-r group-hover/item:from-primary group-hover/item:to-orange-500 transition-all duration-300"></div>
                      <p class="text-sm sm:text-base text-gray-700 leading-relaxed font-medium group-hover/item:text-primary transition-colors duration-300">{item}</p>
                    </div>
                  ) : (
                    <div class="space-y-3 sm:space-y-4">
                      <div class="flex items-start space-x-4 p-4 sm:p-5 rounded-2xl hover:bg-orange-50/80 transition-all duration-300">
                        <div class="w-2 h-2 sm:w-2.5 sm:h-2.5 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full mt-2 flex-shrink-0"></div>
                        <p class="text-base sm:text-lg text-primary font-bold">Comprehensive Curriculum:</p>
                      </div>
                      {item.subItems && (
                        <div class="ml-8 sm:ml-10 space-y-3 sm:space-y-4">
                          {item.subItems.map((subItem) => (
                            <div class="group/sub flex flex-col sm:flex-row gap-2 sm:gap-4 p-3 sm:p-4 rounded-xl hover:bg-orange-25 transition-all duration-300">
                              <span class="font-bold text-orange-600 text-sm sm:text-base uppercase tracking-wide shrink-0 group-hover/sub:text-primary transition-colors duration-300">{subItem.label}</span>
                              <span class="text-gray-700 text-sm sm:text-base leading-relaxed group-hover/sub:text-gray-900 transition-colors duration-300">{subItem.description}</span>
                            </div>
                          ))}
                        </div>
                      )}
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>

      <!-- Course Highlight Sidebar - Full width on mobile, 1/3 on desktop -->
      <div class="w-full lg:w-1/3 mt-4 lg:mt-0">
        <div class="sticky top-20 sm:top-24 bg-white rounded-3xl p-6 sm:p-8 lg:p-10 shadow-2xl border-3 border-orange-200 hover:border-orange-300 transition-all duration-500 hover:shadow-3xl">
          
          <!-- Course title -->
          <h3 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-center mb-8 sm:mb-10 bg-gradient-to-r from-primary to-orange-600 bg-clip-text text-transparent leading-tight">
            {sectionData.courseHighlight.title}
          </h3>
          
          <!-- Pricing - Mobile-friendly grid -->
          <div class="grid grid-cols-2 gap-4 sm:gap-6 mb-8 sm:mb-10 p-5 sm:p-6 bg-gradient-to-r from-orange-50 to-orange-100 rounded-3xl border border-orange-200">
            <div class="text-center group hover:scale-105 transition-transform duration-300">
              <p class="text-xs font-bold text-orange-700 uppercase tracking-wider mb-2">{sectionData.courseHighlight.pricing.twinShared.label}</p>
              <p class="text-xl sm:text-2xl lg:text-3xl font-bold text-primary group-hover:text-orange-600 transition-colors duration-300">{sectionData.courseHighlight.pricing.twinShared.price}</p>
              <p class="text-xs sm:text-sm text-gray-500 line-through">{sectionData.courseHighlight.pricing.twinShared.originalPrice}</p>
            </div>
            <div class="text-center border-l-2 border-orange-300 pl-2 group hover:scale-105 transition-transform duration-300">
              <p class="text-xs font-bold text-orange-700 uppercase tracking-wider mb-2">{sectionData.courseHighlight.pricing.private.label}</p>
              <p class="text-xl sm:text-2xl lg:text-3xl font-bold text-orange-600 group-hover:text-primary transition-colors duration-300">{sectionData.courseHighlight.pricing.private.price}</p>
              <p class="text-xs sm:text-sm text-gray-500 line-through">{sectionData.courseHighlight.pricing.private.originalPrice}</p>
            </div>
          </div>

          <!-- Course details - Simplified and sexy -->
          <div class="space-y-4 sm:space-y-5 mb-8 sm:mb-10">
            {sectionData.courseHighlight.details.map((detail, index) => (
              <div class="group flex items-center space-x-4 sm:space-x-5 p-4 sm:p-5 rounded-2xl hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 transition-all duration-300 cursor-pointer hover:scale-102">
                <div class="w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 bg-gradient-to-r from-primary to-orange-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 flex-shrink-0">
                  <span class="text-white text-lg sm:text-xl lg:text-2xl">
                    {index === 0 ? '‚è∞' : index === 1 ? 'ÔøΩ' : index === 2 ? 'üåç' : index === 3 ? 'ÔøΩ' : index === 4 ? 'üßò' : index === 5 ? 'üë•' : index === 6 ? 'üìÖ' : index === 7 ? 'üèÜ' : '‚ú®'}
                  </span>
                </div>
                <div class="flex-1 min-w-0">
                  <p class="font-bold text-primary text-sm sm:text-base lg:text-lg group-hover:text-orange-600 transition-colors duration-300">{detail.label}</p>
                  <p class="text-gray-600 text-xs sm:text-sm lg:text-base group-hover:text-gray-800 transition-colors duration-300 truncate">{detail.value}</p>
                </div>
              </div>
            ))}
          </div>

          <!-- CTA Button - Sexy and modern -->
          <div class="text-center space-y-4">
            <Button 
              href={ROUTE_CONTACT} 
              class="w-full bg-gradient-to-r from-primary to-orange-600 hover:from-orange-600 hover:to-primary text-white font-bold py-4 sm:py-5 px-8 sm:px-10 rounded-3xl shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-500 text-base sm:text-lg lg:text-xl group overflow-hidden relative"
            >
              <span class="relative z-10 flex items-center justify-center whitespace-nowrap">
                üßò‚Äç‚ôÄÔ∏è {sectionData.courseHighlight.bookingButton.text}
              </span>
              <div class="absolute inset-0 bg-gradient-to-r from-orange-400 to-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
            </Button>
            <p class="text-xs sm:text-sm text-orange-600 italic font-medium">‚ú® Transform your life with ancient wisdom ‚ú®</p>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</section>
