---
import type { CourseComboSection } from '../../../constants/TTC/200hour';
import SectionHeader from '../../ui/SectionHeader.astro';

// TTC Course Combo component for displaying add-on courses
export interface Props {
  comboData?: CourseComboSection;
  containerClass?: string;
  backgroundClass?: string;
}

const {
  comboData,
  containerClass = 'container mx-auto px-4 max-w-7xl',
  backgroundClass = 'py-16 bg-gradient-to-b from-amber-50 to-orange-50 font-quicksand',
} = Astro.props;

// Default fallback data if no props provided
const defaultComboData: CourseComboSection = {
  subtitle: 'Create Your Own Yoga Training Combo',
  description:
    'At Rishikesh Yogkulam, we believe in giving you the freedom to customize your yoga journey. Now, along with your 200 Hour Yoga Teacher Training (YTTC) or 300 Hour Yoga Teacher Training (YTTC), you can add specialized short courses to deepen your skills.',
  detailDescription:
    'For example, you can combine your 200 Hour YTTC with Prenatal Yoga Teacher Training or choose a 300 Hour YTTC with Prenatal Yoga for a truly holistic certification. These combo courses allow you to broaden your teaching profile, explore new areas of yoga, and stand out as a versatile yoga teacher.',
  contactDescription:
    'If you are interested in these unique add-on programs, please feel free to inquire via email or WhatsApp. Our team will guide you with the details and help you design the perfect path for your yoga career.',
  popularTitle: 'Popular Add-On Combinations',
  addOnCombinations: [
    {
      id: 'prenatal-yoga',
      title: 'Prenatal Yoga Teacher Training',
      description: 'Specialize in safe yoga practices for expectant mothers',
      featured: true,
    },
    {
      id: 'ayurveda-class',
      title: 'Ayurveda Class',
      description: 'Timeless wisdom of Ayurveda to balance body, mind, and spirit.',
      featured: true,
    },
  ],
  ctaButtons: {
    email: {
      text: 'Email Us for Details',
      href: 'mailto:info@rishikeshyogkulam.com',
    },
    whatsapp: {
      text: 'WhatsApp Inquiry',
      href: 'https://wa.me/919368154123',
    },
  },
  heroImage: 'https://images.unsplash.com/photo-1588286840104-8957b019727f?w=800&h=600&fit=crop',
};

const data = comboData || defaultComboData;
---

<section class:list={[backgroundClass]}>
  <div class:list={[containerClass]}>
    <div class="flex w-full flex-col items-center justify-center">
      <SectionHeader containerClass="mb-0" title={data.subtitle} />
    </div>
    <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2">
      <!-- Left Content -->
      <div class="space-y-6">
        <!-- Description Paragraphs -->
        <div class="mt-5 space-y-4 leading-relaxed text-gray-600">
          <p class="text-lg md:text-xl">{data.description}</p>
          <p class="text-lg md:text-xl">{data.detailDescription}</p>
          <p class="text-lg md:text-xl">{data.contactDescription}</p>
        </div>

        <!-- Popular Add-On Combinations -->
        <div class="space-y-4">
          <h3 class="flex items-center text-2xl font-bold text-gray-800">
            <span class="mr-2 text-primary">â˜…</span>
            {data.popularTitle}
          </h3>

          <div class="space-y-4">
            {
              data.addOnCombinations
                .filter(combo => combo.featured)
                .map(combo => (
                  <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-md transition-shadow duration-300 hover:shadow-lg">
                    <h4 class="mb-2 text-xl font-semibold text-gray-800">{combo.title}</h4>
                    <p class="leading-relaxed text-gray-600">{combo.description}</p>
                  </div>
                ))
            }
          </div>
        </div>

        <!-- CTA Buttons -->
        <div class="flex flex-col gap-4 pt-6 sm:flex-row">
          <a
            class="inline-block transform rounded-full border-2 bg-primary px-8 py-3 text-center font-semibold text-white shadow-lg hover:scale-105 hover:bg-purple-800"
            href={data.ctaButtons.email.href}
          >
            {data.ctaButtons.email.text}
          </a>
          <a
            class="inline-block transform rounded-full border-2 border-green-500 bg-green-500 px-8 py-3 text-center font-semibold text-white shadow-lg hover:scale-105 hover:bg-green-600"
            href={data.ctaButtons.whatsapp.href}
          >
            <i class="fab fa-whatsapp mr-2"></i>
            {data.ctaButtons.whatsapp.text}
          </a>
        </div>
      </div>

      <!-- Right Image -->
      <div class="relative">
        <div class="relative overflow-hidden rounded-2xl shadow-2xl">
          <img
            alt="Yoga Training Combo"
            class="h-auto w-full object-cover"
            loading="lazy"
            src={data.heroImage}
          />

          <!-- Image Overlay with Gradient -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>

          <!-- Optional Floating Element -->
          <div
            class="absolute right-6 top-6 rounded-full bg-white/90 p-3 shadow-lg backdrop-blur-sm"
          >
            <svg class="h-6 w-6 text-orange-600" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
              ></path>
            </svg>
          </div>

          <img
            alt="Yoga Training Combo"
            class="mt-10 h-auto w-full object-cover"
            loading="lazy"
            src={data.heroImage}
          />
        </div>
      </div>
    </div>
  </div>
</section>
