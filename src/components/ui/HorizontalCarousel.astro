---
interface Props {
	id: string;
	containerClass?: string;
	cardClass?: string;
	scrollInterval?: number;
}

const { 
	id, 
	containerClass = "flex snap-x snap-mandatory gap-6 overflow-x-auto scroll-smooth pt-12 pb-4",
	cardClass = "",
	scrollInterval = 3000 
} = Astro.props;
---

<!-- Horizontal Scrolling Container -->
<div
	id={id}
	class={containerClass}
>
	<slot />
</div>

<!-- Auto-scroll functionality -->
<script define:vars={{ id, scrollInterval }}>
	// Simple auto-scroll for mobile, tablet, and desktop
	const scrollContainer = document.getElementById(id);
	
	if (scrollContainer) {
		setInterval(() => {
			const cardWidth =
				window.innerWidth < 768
					? window.innerWidth
					: window.innerWidth < 1024
						? window.innerWidth / 2
						: window.innerWidth / 3;
			
			scrollContainer.scrollBy({ left: cardWidth, behavior: 'smooth' });
			
			if (scrollContainer.scrollLeft >= scrollContainer.scrollWidth - scrollContainer.clientWidth) {
				scrollContainer.scrollTo({ left: 0, behavior: 'smooth' });
			}
		}, scrollInterval);
	}
</script>
